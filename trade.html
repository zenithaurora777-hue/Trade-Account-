<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trade Room</title>

<style>
body{
    margin:0;
    background:#0d1117;
    font-family:Arial, sans-serif;
    color:white;
    padding:20px;
}

.container{
    max-width:500px;
    margin:auto;
}

/* CARD STYLE */
.card{
    background:#161b22;
    border-radius:20px;
    padding:20px;
    margin:25px 0;
    box-shadow:0 0 25px rgba(0,0,0,0.5);
}

.title{
    color:#facc15;
    font-size:20px;
    font-weight:bold;
}

.price{
    float:right;
    font-size:22px;
    font-weight:bold;
}

.green{ color:#00ff99; }
.red{ color:#ff3b3b; }

.balance{
    font-size:24px;
    font-weight:bold;
    margin-top:15px;
}

/* Canvas sizing */
canvas{
    width:100%;
    height:220px;
}
</style>
</head>

<body>

<div class="container">

    <!-- ===== YOUR ORIGINAL CONTENT (UNCHANGED) ===== -->
    â˜€ï¸Ž / ðŸŒ™<br><br>
    <strong>Logo</strong><br>
    Trade Room<br>
    BTC/USDT<br><br>

    $500<br><br>

    <h2>Signal: BUY</h2>
    Trend confirmed â€¢ Strong momentum<br><br>

    50000<br>
    +0.00%<br><br>

    <!-- ===== NEW AI SIGNAL CARD ===== -->
    <div class="card">
        <div>
            <span class="title">AI Trade Signal</span>
            <span class="price">52053.97</span>
        </div>

        <h2>Signal: BUY</h2>
        <div class="green">+4.89%</div>
        <div class="green" style="font-size:26px;">+$3.53</div>

        <canvas id="candles"></canvas>

        <div class="balance green">
            Balance: $503.53
        </div>
    </div>

    <!-- ===== TRADE GRAPH ===== -->
    <div class="card">
        <div class="title">Trade Graph</div>
        <canvas id="tradeGraph"></canvas>
    </div>

</div>

<script>

/* ===========================
   REAL CANDLESTICK CHART
=========================== */

const canvas = document.getElementById("candles");
const ctx = canvas.getContext("2d");

canvas.width = canvas.offsetWidth;
canvas.height = 220;

let candles = [];

/* Generate random candle data */
function generateCandle(prevClose){
    const open = prevClose;
    const close = open + (Math.random() - 0.5) * 40;
    const high = Math.max(open, close) + Math.random()*20;
    const low = Math.min(open, close) - Math.random()*20;
    return {open, close, high, low};
}

let price = 52000;
for(let i=0;i<30;i++){
    let c = generateCandle(price);
    price = c.close;
    candles.push(c);
}

function drawCandles(){
    ctx.clearRect(0,0,canvas.width,canvas.height);

    const candleWidth = 8;
    const gap = 6;

    let max = Math.max(...candles.map(c=>c.high));
    let min = Math.min(...candles.map(c=>c.low));

    candles.forEach((c,i)=>{
        const x = i*(candleWidth+gap)+10;

        const openY = canvas.height - ((c.open-min)/(max-min))*canvas.height;
        const closeY = canvas.height - ((c.close-min)/(max-min))*canvas.height;
        const highY = canvas.height - ((c.high-min)/(max-min))*canvas.height;
        const lowY = canvas.height - ((c.low-min)/(max-min))*canvas.height;

        const color = c.close>c.open ? "#00ff99" : "#ff3b3b";
        ctx.strokeStyle = color;
        ctx.fillStyle = color;

        /* wick */
        ctx.beginPath();
        ctx.moveTo(x+candleWidth/2, highY);
        ctx.lineTo(x+candleWidth/2, lowY);
        ctx.stroke();

        /* body */
        ctx.fillRect(
            x,
            Math.min(openY,closeY),
            candleWidth,
            Math.abs(openY-closeY)
        );
    });

    /* dotted continuation line */
    ctx.setLineDash([5,5]);
    ctx.strokeStyle="#00ff99";
    ctx.beginPath();
    ctx.moveTo(canvas.width-80, canvas.height/2);
    ctx.lineTo(canvas.width, canvas.height/2);
    ctx.stroke();
    ctx.setLineDash([]);
}

function animate(){
    candles.shift();
    let newC = generateCandle(candles[candles.length-1].close);
    candles.push(newC);
    drawCandles();
}

setInterval(animate,1500);
drawCandles();


/* ===========================
   TRADE GRAPH
=========================== */

const graph = document.getElementById("tradeGraph");
const gctx = graph.getContext("2d");

graph.width = graph.offsetWidth;
graph.height = 220;

let data = [];

for(let i=0;i<50;i++){
    data.push(Math.random()*100);
}

function drawGraph(){
    gctx.clearRect(0,0,graph.width,graph.height);

    gctx.strokeStyle="gold";
    gctx.lineWidth=2;
    gctx.beginPath();

    data.forEach((v,i)=>{
        const x = (i/data.length)*graph.width;
        const y = graph.height - (v/100)*graph.height;
        if(i===0) gctx.moveTo(x,y);
        else gctx.lineTo(x,y);
    });

    gctx.stroke();
}

function updateGraph(){
    data.shift();
    data.push(Math.random()*100);
    drawGraph();
}

setInterval(updateGraph,1200);
drawGraph();

</script>

</body>
</html>
